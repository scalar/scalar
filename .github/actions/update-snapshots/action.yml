name: 'Update snapshots'
description: 'Creates a PR to update snapshots'
runs:
  using: 'composite'
  steps:
    - name: Checkout code
      uses: actions/checkout@11bd71901bbe5b1630ceea73d27597364c9af683
    # - name: Download Playwright report
    #   uses: actions/download-artifact@v4
    #   with:
    #     name: playwright-report
    #     path: playwright/test-results/
    - uses: oven-sh/setup-bun@v2
    - name: Update snapshots
      shell: bash
      run: bun scripts/update-snapshots.ts
    - name: Create Pull Request
      uses: peter-evans/create-pull-request@v5
      with:
        commit-message: 'test: update CDN API Reference snapshots'
        committer: Tom Mastromonaco <peter-evans@users.noreply.github.com>
        body: |
          This PR updates the CDN API Reference snapshots for the jsdelivr test.
          Please review the changes to the API Reference UI.
        title: 'test: update CDN API Reference snapshots'
        branch: test-update-cdn-api-reference-snapshots
