openapi: 3.0.0
info:
  version: 2020-09-10
  x-release: v4
  title: AWS Application Cost Profiler
  description: <p>This reference provides descriptions of the AWS Application Cost Profiler API.</p> <p>The AWS Application Cost Profiler API provides programmatic access to view, create, update, and delete application cost report definitions, as well as to import your usage data into the Application Cost Profiler service.</p> <p>For more information about using this service, see the <a href="https://docs.aws.amazon.com/application-cost-profiler/latest/userguide/introduction.html">AWS Application Cost Profiler User Guide</a>.</p>
  x-logo:
    url: https://api.apis.guru/v2/cache/logo/https_twitter.com_awscloud_profile_image.png
    backgroundColor: "#FFFFFF"
  termsOfService: https://aws.amazon.com/service-terms/
  contact:
    name: Mike Ralphson
    email: mike.ralphson@gmail.com
    url: https://github.com/mermade/aws2openapi
    x-twitter: PermittedSoc
  license:
    name: Apache 2.0 License
    url: http://www.apache.org/licenses/
  x-providerName: amazonaws.com
  x-serviceName: applicationcostprofiler
  x-aws-signingName: application-cost-profiler
  x-origin:
    - contentType: application/json
      url: https://raw.githubusercontent.com/aws/aws-sdk-js/master/apis/applicationcostprofiler-2020-09-10.normal.json
      converter:
        url: https://github.com/mermade/aws2openapi
        version: 1.0.0
      x-apisguru-driver: external
  x-apiClientRegistration:
    url: https://portal.aws.amazon.com/gp/aws/developer/registration/index.html?nc2=h_ct
  x-apisguru-categories:
    - cloud
  x-preferred: true
externalDocs:
  description: Amazon Web Services documentation
  url: https://docs.aws.amazon.com/application-cost-profiler/
servers:
  - url: http://application-cost-profiler.{region}.amazonaws.com
    variables:
      region:
        description: The AWS region
        enum:
          - us-east-1
          - us-east-2
          - us-west-1
          - us-west-2
          - us-gov-west-1
          - us-gov-east-1
          - ca-central-1
          - eu-north-1
          - eu-west-1
          - eu-west-2
          - eu-west-3
          - eu-central-1
          - eu-south-1
          - af-south-1
          - ap-northeast-1
          - ap-northeast-2
          - ap-northeast-3
          - ap-southeast-1
          - ap-southeast-2
          - ap-east-1
          - ap-south-1
          - sa-east-1
          - me-south-1
        default: us-east-1
    description: The AWS Application Cost Profiler multi-region endpoint
  - url: https://application-cost-profiler.{region}.amazonaws.com
    variables:
      region:
        description: The AWS region
        enum:
          - us-east-1
          - us-east-2
          - us-west-1
          - us-west-2
          - us-gov-west-1
          - us-gov-east-1
          - ca-central-1
          - eu-north-1
          - eu-west-1
          - eu-west-2
          - eu-west-3
          - eu-central-1
          - eu-south-1
          - af-south-1
          - ap-northeast-1
          - ap-northeast-2
          - ap-northeast-3
          - ap-southeast-1
          - ap-southeast-2
          - ap-east-1
          - ap-south-1
          - sa-east-1
          - me-south-1
        default: us-east-1
    description: The AWS Application Cost Profiler multi-region endpoint
  - url: http://application-cost-profiler.{region}.amazonaws.com.cn
    variables:
      region:
        description: The AWS region
        enum:
          - cn-north-1
          - cn-northwest-1
        default: cn-north-1
    description: The AWS Application Cost Profiler endpoint for China (Beijing) and China (Ningxia)
  - url: https://application-cost-profiler.{region}.amazonaws.com.cn
    variables:
      region:
        description: The AWS region
        enum:
          - cn-north-1
          - cn-northwest-1
        default: cn-north-1
    description: The AWS Application Cost Profiler endpoint for China (Beijing) and China (Ningxia)
paths:
  "/reportDefinition/{reportId}":
    delete:
      operationId: DeleteReportDefinition
      description: Deletes the specified report definition in AWS Application Cost Profiler. This stops the report from being generated.
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/DeleteReportDefinitionResult"
        "480":
          description: InternalServerException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/InternalServerException"
        "481":
          description: ThrottlingException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ThrottlingException"
        "482":
          description: ValidationException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ValidationException"
        "483":
          description: AccessDeniedException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AccessDeniedException"
      parameters:
        - name: reportId
          in: path
          required: true
          description: Required. ID of the report to delete.
          schema:
            type: string
            pattern: ^[0-9A-Za-z\.\-_]+$
            minLength: 1
            maxLength: 255
    parameters:
      - $ref: "#/components/parameters/X-Amz-Content-Sha256"
      - $ref: "#/components/parameters/X-Amz-Date"
      - $ref: "#/components/parameters/X-Amz-Algorithm"
      - $ref: "#/components/parameters/X-Amz-Credential"
      - $ref: "#/components/parameters/X-Amz-Security-Token"
      - $ref: "#/components/parameters/X-Amz-Signature"
      - $ref: "#/components/parameters/X-Amz-SignedHeaders"
    get:
      operationId: GetReportDefinition
      description: Retrieves the definition of a report already configured in AWS Application Cost Profiler.
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GetReportDefinitionResult"
        "480":
          description: InternalServerException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/InternalServerException"
        "481":
          description: ThrottlingException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ThrottlingException"
        "482":
          description: ValidationException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ValidationException"
        "483":
          description: AccessDeniedException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AccessDeniedException"
      parameters:
        - name: reportId
          in: path
          required: true
          description: ID of the report to retrieve.
          schema:
            type: string
            pattern: ^[0-9A-Za-z\.\-_]+$
            minLength: 1
            maxLength: 255
    put:
      operationId: UpdateReportDefinition
      description: Updates existing report in AWS Application Cost Profiler.
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UpdateReportDefinitionResult"
        "480":
          description: InternalServerException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/InternalServerException"
        "481":
          description: ThrottlingException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ThrottlingException"
        "482":
          description: ValidationException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ValidationException"
        "483":
          description: AccessDeniedException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AccessDeniedException"
      parameters:
        - name: reportId
          in: path
          required: true
          description: Required. ID of the report to update.
          schema:
            type: string
            pattern: ^[0-9A-Za-z\.\-_]+$
            minLength: 1
            maxLength: 255
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - reportDescription
                - reportFrequency
                - format
                - destinationS3Location
              properties:
                reportDescription:
                  description: Required. Description of the report.
                  type: string
                  pattern: .*\S.*
                  minLength: 1
                  maxLength: 1024
                reportFrequency:
                  description: Required. The cadence to generate the report.
                  type: string
                  enum:
                    - MONTHLY
                    - DAILY
                    - ALL
                format:
                  description: Required. The format to use for the generated report.
                  type: string
                  enum:
                    - CSV
                    - PARQUET
                destinationS3Location:
                  description: Represents the Amazon Simple Storage Service (Amazon S3) location where AWS Application Cost Profiler reports are generated and then written to.
                  type: object
                  properties:
                    bucket:
                      allOf:
                        - $ref: "#/components/schemas/S3Bucket"
                        - description: Name of the S3 bucket.
                    prefix:
                      allOf:
                        - $ref: "#/components/schemas/S3Prefix"
                        - description: Prefix for the location to write to.
  /importApplicationUsage:
    post:
      operationId: ImportApplicationUsage
      description: <p>Ingests application usage data from Amazon Simple Storage Service (Amazon S3).</p> <p>The data must already exist in the S3 location. As part of the action, AWS Application Cost Profiler copies the object from your S3 bucket to an S3 bucket owned by Amazon for processing asynchronously.</p>
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ImportApplicationUsageResult"
        "480":
          description: InternalServerException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/InternalServerException"
        "481":
          description: ThrottlingException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ThrottlingException"
        "482":
          description: ValidationException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ValidationException"
        "483":
          description: AccessDeniedException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AccessDeniedException"
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - sourceS3Location
              properties:
                sourceS3Location:
                  description: Represents the Amazon Simple Storage Service (Amazon S3) location where usage data is read from.
                  type: object
                  properties:
                    bucket:
                      allOf:
                        - $ref: "#/components/schemas/S3Bucket"
                        - description: Name of the bucket.
                    key:
                      allOf:
                        - $ref: "#/components/schemas/S3Key"
                        - description: Key of the object.
                    region:
                      allOf:
                        - $ref: "#/components/schemas/S3BucketRegion"
                        - description: Region of the bucket. Only required for Regions that are disabled by default. For more infomration about Regions that are disabled by default, see <a href="https://docs.aws.amazon.com/general/latest/gr/rande-manage.html#rande-manage-enable"> Enabling a Region</a> in the <i>AWS General Reference guide</i>.
    parameters:
      - $ref: "#/components/parameters/X-Amz-Content-Sha256"
      - $ref: "#/components/parameters/X-Amz-Date"
      - $ref: "#/components/parameters/X-Amz-Algorithm"
      - $ref: "#/components/parameters/X-Amz-Credential"
      - $ref: "#/components/parameters/X-Amz-Security-Token"
      - $ref: "#/components/parameters/X-Amz-Signature"
      - $ref: "#/components/parameters/X-Amz-SignedHeaders"
  /reportDefinition:
    get:
      operationId: ListReportDefinitions
      description: <p>Retrieves a list of all reports and their configurations for your AWS account.</p> <p>The maximum number of reports is one.</p>
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ListReportDefinitionsResult"
        "480":
          description: InternalServerException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/InternalServerException"
        "481":
          description: ThrottlingException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ThrottlingException"
        "482":
          description: ValidationException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ValidationException"
        "483":
          description: AccessDeniedException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AccessDeniedException"
      parameters:
        - name: nextToken
          in: query
          required: false
          description: The token value from a previous call to access the next page of results.
          schema:
            type: string
            pattern: ^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$
            minLength: 1
            maxLength: 102400
        - name: maxResults
          in: query
          required: false
          description: The maximum number of results to return.
          schema:
            type: integer
            minimum: 1
            maximum: 100
    parameters:
      - $ref: "#/components/parameters/X-Amz-Content-Sha256"
      - $ref: "#/components/parameters/X-Amz-Date"
      - $ref: "#/components/parameters/X-Amz-Algorithm"
      - $ref: "#/components/parameters/X-Amz-Credential"
      - $ref: "#/components/parameters/X-Amz-Security-Token"
      - $ref: "#/components/parameters/X-Amz-Signature"
      - $ref: "#/components/parameters/X-Amz-SignedHeaders"
    post:
      operationId: PutReportDefinition
      description: Creates the report definition for a report in Application Cost Profiler.
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PutReportDefinitionResult"
        "480":
          description: InternalServerException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/InternalServerException"
        "481":
          description: ThrottlingException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ThrottlingException"
        "482":
          description: ValidationException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ValidationException"
        "483":
          description: AccessDeniedException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AccessDeniedException"
        "484":
          description: ServiceQuotaExceededException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ServiceQuotaExceededException"
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - reportId
                - reportDescription
                - reportFrequency
                - format
                - destinationS3Location
              properties:
                reportId:
                  description: Required. ID of the report. You can choose any valid string matching the pattern for the ID.
                  type: string
                  pattern: ^[0-9A-Za-z\.\-_]+$
                  minLength: 1
                  maxLength: 255
                reportDescription:
                  description: Required. Description of the report.
                  type: string
                  pattern: .*\S.*
                  minLength: 1
                  maxLength: 1024
                reportFrequency:
                  description: Required. The cadence to generate the report.
                  type: string
                  enum:
                    - MONTHLY
                    - DAILY
                    - ALL
                format:
                  description: Required. The format to use for the generated report.
                  type: string
                  enum:
                    - CSV
                    - PARQUET
                destinationS3Location:
                  description: Represents the Amazon Simple Storage Service (Amazon S3) location where AWS Application Cost Profiler reports are generated and then written to.
                  type: object
                  properties:
                    bucket:
                      allOf:
                        - $ref: "#/components/schemas/S3Bucket"
                        - description: Name of the S3 bucket.
                    prefix:
                      allOf:
                        - $ref: "#/components/schemas/S3Prefix"
                        - description: Prefix for the location to write to.
components:
  parameters:
    X-Amz-Content-Sha256:
      name: X-Amz-Content-Sha256
      in: header
      schema:
        type: string
      required: false
    X-Amz-Date:
      name: X-Amz-Date
      in: header
      schema:
        type: string
      required: false
    X-Amz-Algorithm:
      name: X-Amz-Algorithm
      in: header
      schema:
        type: string
      required: false
    X-Amz-Credential:
      name: X-Amz-Credential
      in: header
      schema:
        type: string
      required: false
    X-Amz-Security-Token:
      name: X-Amz-Security-Token
      in: header
      schema:
        type: string
      required: false
    X-Amz-Signature:
      name: X-Amz-Signature
      in: header
      schema:
        type: string
      required: false
    X-Amz-SignedHeaders:
      name: X-Amz-SignedHeaders
      in: header
      schema:
        type: string
      required: false
  securitySchemes:
    hmac:
      type: apiKey
      name: Authorization
      in: header
      description: Amazon Signature authorization v4
      x-amazon-apigateway-authtype: awsSigv4
  schemas:
    DeleteReportDefinitionResult:
      type: object
      properties:
        reportId:
          allOf:
            - $ref: "#/components/schemas/ReportId"
            - description: ID of the report that was deleted.
    InternalServerException: {}
    ThrottlingException: {}
    ValidationException: {}
    AccessDeniedException: {}
    GetReportDefinitionResult:
      type: object
      required:
        - reportId
        - reportDescription
        - reportFrequency
        - format
        - destinationS3Location
        - createdAt
        - lastUpdated
      properties:
        reportId:
          allOf:
            - $ref: "#/components/schemas/ReportId"
            - description: ID of the report retrieved.
        reportDescription:
          allOf:
            - $ref: "#/components/schemas/ReportDescription"
            - description: Description of the report.
        reportFrequency:
          allOf:
            - $ref: "#/components/schemas/ReportFrequency"
            - description: Cadence used to generate the report.
        format:
          allOf:
            - $ref: "#/components/schemas/Format"
            - description: Format of the generated report.
        destinationS3Location:
          allOf:
            - $ref: "#/components/schemas/S3Location"
            - description: Amazon Simple Storage Service (Amazon S3) location where the report is uploaded.
        createdAt:
          allOf:
            - $ref: "#/components/schemas/Timestamp"
            - description: Timestamp (milliseconds) when this report definition was created.
        lastUpdated:
          allOf:
            - $ref: "#/components/schemas/Timestamp"
            - description: Timestamp (milliseconds) when this report definition was last updated.
    ImportApplicationUsageResult:
      type: object
      required:
        - importId
      properties:
        importId:
          allOf:
            - $ref: "#/components/schemas/ImportId"
            - description: ID of the import request.
    S3Bucket:
      type: string
      pattern: (?=^.{3,63}$)(?!^(\d+\.)+\d+$)(^(([a-z0-9]|[a-z0-9][a-z0-9\-]*[a-z0-9])\.)*([a-z0-9]|[a-z0-9][a-z0-9\-]*[a-z0-9])$)
      minLength: 3
      maxLength: 63
    S3Key:
      type: string
      pattern: .*\S.*
      minLength: 1
      maxLength: 512
    S3BucketRegion:
      type: string
      enum:
        - ap-east-1
        - me-south-1
        - eu-south-1
        - af-south-1
    ListReportDefinitionsResult:
      type: object
      properties:
        reportDefinitions:
          allOf:
            - $ref: "#/components/schemas/ReportDefinitionList"
            - description: The retrieved reports.
        nextToken:
          allOf:
            - $ref: "#/components/schemas/Token"
            - description: The value of the next token, if it exists. Null if there are no more results.
    PutReportDefinitionResult:
      type: object
      properties:
        reportId:
          allOf:
            - $ref: "#/components/schemas/ReportId"
            - description: ID of the report.
    S3Prefix:
      type: string
      pattern: .*\S.*
      minLength: 1
      maxLength: 512
    ServiceQuotaExceededException: {}
    UpdateReportDefinitionResult:
      type: object
      properties:
        reportId:
          allOf:
            - $ref: "#/components/schemas/ReportId"
            - description: ID of the report.
    ReportId:
      type: string
      pattern: ^[0-9A-Za-z\.\-_]+$
      minLength: 1
      maxLength: 255
    DeleteReportDefinitionRequest:
      type: object
      title: DeleteReportDefinitionRequest
      properties: {}
    Format:
      type: string
      enum:
        - CSV
        - PARQUET
    GetReportDefinitionRequest:
      type: object
      title: GetReportDefinitionRequest
      properties: {}
    ReportDescription:
      type: string
      pattern: .*\S.*
      minLength: 1
      maxLength: 1024
    ReportFrequency:
      type: string
      enum:
        - MONTHLY
        - DAILY
        - ALL
    S3Location:
      type: object
      required:
        - bucket
        - prefix
      properties:
        bucket:
          allOf:
            - $ref: "#/components/schemas/S3Bucket"
            - description: Name of the S3 bucket.
        prefix:
          allOf:
            - $ref: "#/components/schemas/S3Prefix"
            - description: Prefix for the location to write to.
      description: Represents the Amazon Simple Storage Service (Amazon S3) location where AWS Application Cost Profiler reports are generated and then written to.
    Timestamp:
      type: string
      format: date-time
    SourceS3Location:
      type: object
      required:
        - bucket
        - key
      properties:
        bucket:
          allOf:
            - $ref: "#/components/schemas/S3Bucket"
            - description: Name of the bucket.
        key:
          allOf:
            - $ref: "#/components/schemas/S3Key"
            - description: Key of the object.
        region:
          allOf:
            - $ref: "#/components/schemas/S3BucketRegion"
            - description: Region of the bucket. Only required for Regions that are disabled by default. For more infomration about Regions that are disabled by default, see <a href="https://docs.aws.amazon.com/general/latest/gr/rande-manage.html#rande-manage-enable"> Enabling a Region</a> in the <i>AWS General Reference guide</i>.
      description: Represents the Amazon Simple Storage Service (Amazon S3) location where usage data is read from.
    ImportApplicationUsageRequest:
      type: object
      required:
        - sourceS3Location
      title: ImportApplicationUsageRequest
      properties:
        sourceS3Location:
          allOf:
            - $ref: "#/components/schemas/SourceS3Location"
            - description: Amazon S3 location to import application usage data from.
    ImportId:
      type: string
      pattern: "[0-9A-Za-z\\.\\-_]*"
      minLength: 1
      maxLength: 255
    Integer:
      type: integer
      minimum: 1
      maximum: 100
    Token:
      type: string
      pattern: ^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$
      minLength: 1
      maxLength: 102400
    ListReportDefinitionsRequest:
      type: object
      title: ListReportDefinitionsRequest
      properties: {}
    ReportDefinitionList:
      type: array
      items:
        $ref: "#/components/schemas/ReportDefinition"
    PutReportDefinitionRequest:
      type: object
      required:
        - reportId
        - reportDescription
        - reportFrequency
        - format
        - destinationS3Location
      title: PutReportDefinitionRequest
      properties:
        reportId:
          allOf:
            - $ref: "#/components/schemas/ReportId"
            - description: Required. ID of the report. You can choose any valid string matching the pattern for the ID.
        reportDescription:
          allOf:
            - $ref: "#/components/schemas/ReportDescription"
            - description: Required. Description of the report.
        reportFrequency:
          allOf:
            - $ref: "#/components/schemas/ReportFrequency"
            - description: Required. The cadence to generate the report.
        format:
          allOf:
            - $ref: "#/components/schemas/Format"
            - description: Required. The format to use for the generated report.
        destinationS3Location:
          allOf:
            - $ref: "#/components/schemas/S3Location"
            - description: Required. Amazon Simple Storage Service (Amazon S3) location where Application Cost Profiler uploads the report.
    ReportDefinition:
      type: object
      properties:
        reportId:
          allOf:
            - $ref: "#/components/schemas/ReportId"
            - description: The ID of the report.
        reportDescription:
          allOf:
            - $ref: "#/components/schemas/ReportDescription"
            - description: Description of the report
        reportFrequency:
          allOf:
            - $ref: "#/components/schemas/ReportFrequency"
            - description: The cadence at which the report is generated.
        format:
          allOf:
            - $ref: "#/components/schemas/Format"
            - description: The format used for the generated reports.
        destinationS3Location:
          allOf:
            - $ref: "#/components/schemas/S3Location"
            - description: The location in Amazon Simple Storage Service (Amazon S3) the reports should be saved to.
        createdAt:
          allOf:
            - $ref: "#/components/schemas/Timestamp"
            - description: Timestamp (milliseconds) when this report definition was created.
        lastUpdatedAt:
          allOf:
            - $ref: "#/components/schemas/Timestamp"
            - description: Timestamp (milliseconds) when this report definition was last updated.
      description: The configuration of a report in AWS Application Cost Profiler.
    UpdateReportDefinitionRequest:
      type: object
      required:
        - reportDescription
        - reportFrequency
        - format
        - destinationS3Location
      title: UpdateReportDefinitionRequest
      properties:
        reportDescription:
          allOf:
            - $ref: "#/components/schemas/ReportDescription"
            - description: Required. Description of the report.
        reportFrequency:
          allOf:
            - $ref: "#/components/schemas/ReportFrequency"
            - description: Required. The cadence to generate the report.
        format:
          allOf:
            - $ref: "#/components/schemas/Format"
            - description: Required. The format to use for the generated report.
        destinationS3Location:
          allOf:
            - $ref: "#/components/schemas/S3Location"
            - description: Required. Amazon Simple Storage Service (Amazon S3) location where Application Cost Profiler uploads the report.
security:
  - hmac: []
