<!doctype html>
<html>
  <head>
    <title>Scalar API Reference</title>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1" />
  </head>

  <body>
    <div id="app"></div>

    <!-- Our Script -->
    <script
      src="src/standalone.ts"
      type="module"></script>

    <!-- Initialize the Scalar API Reference -->
    <script type="module">
      const scal = Scalar.createApiReference('#app', {
        sources: [
          {
            title: 'Scalar Galaxy', // optional, would fallback to 'API #1'
            slug: 'scalar-galaxy', // optional, would be auto-generated from the title or the index
            content: {
              openapi: '3.1.0',
              info: { title: 'Updated API', version: '1.0.0' },
              paths: {
                '/test': {
                  get: {
                    tags: ['Test'],
                    summary: 'New Operation',
                  },
                },
              },
            },
          },
        ],
        persistAuth: true,
        // Avoid CORS issues
        proxyUrl: 'https://proxy.scalar.com',
      })

      // setTimeout(() => {
      //   console.log('updating configuration')
      //   scal.updateConfiguration({
      //     content: {
      //       openapi: '3.1.0',
      //       info: { title: 'Updated API', version: '1.0.0' },
      //       paths: {
      //         '/test': {
      //           post: {
      //             tags: ['Test'],
      //             summary: 'New Operation',
      //           },
      //         },
      //       },
      //     },
      //   })
      // }, 5000)
    </script>
  </body>
</html>
